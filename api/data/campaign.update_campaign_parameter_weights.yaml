openapi: 3.0.0
info:
    title: Обновление весов параметров рекламных кампаний
    version: 1.0.0
    description: Обновление весов параметров рекламных кампаний. Система весов нужна для того, чтобы определить, какую из рекламных кампаний сопоставить посещению. Если при переходе на сайт одному посещению соответствует несколько рекламных кампаний, то система присвоит рекламную кампанию, содержащую условие, значение которого по шкале весов наивысшее.
paths:
    /update.campaign_parameter_weights:
        put:
            summary: Обновление весов параметров рекламных кампаний
            description: |-
                Обновление весов параметров рекламных кампаний. Система весов нужна для того, чтобы определить, какую из рекламных кампаний сопоставить посещению. Если при переходе на сайт одному посещению соответствует несколько рекламных кампаний, то система присвоит рекламную кампанию, содержащую условие, значение которого по шкале весов наивысшее.

                **Request Parameters:** 14

                - `search_query` (number, optional): Поисковый запрос

                - `utm_tags` (number, optional): Значение веса для параметров utm_source, utm_medium, utm_campaign, utm_term, utm_content

                - `os_tags` (number, optional): Значение веса для параметров openstat_service, openstat_campaign, openstat_source, openstat_ad

                - `site_id` (number, required): Уникальный идентификатор сайта

                - `engine` (number, optional): Рекламная система

                - `referrer` (number, optional): Реферер

                - `channel` (number, optional): Канал

                - `location` (number, optional): Значение веса для параметров city, region, country

                - `other_tags` (number, optional): Значение веса для параметров ef_id, yclid, gclid, ymclid

                - `access_token` (string, required): Ключ сессии аутентификации

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `entrance_page` (number, optional): Страница входа

                - `referrer_domain` (number, optional): Домен реферера

                - `search_engine` (number, optional): Поисковая система
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                id:
                                    type: number
                                    description: Request identifier
                                jsonrpc:
                                    type: string
                                    description: JSON-RPC version
                                    example: "2.0"
                                method:
                                    type: string
                                    description: Method name
                                    example: update.campaign_parameter_weights
                                params:
                                    type: object
                                    properties:
                                        access_token:
                                            type: string
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                        channel:
                                            type: number
                                            description: Канал
                                            example: 123
                                        engine:
                                            type: number
                                            description: Рекламная система
                                            example: 123
                                        entrance_page:
                                            type: number
                                            description: Страница входа
                                            example: 123
                                        location:
                                            type: number
                                            description: Значение веса для параметров city, region, country
                                            example: 123
                                        os_tags:
                                            type: number
                                            description: Значение веса для параметров openstat_service, openstat_campaign, openstat_source, openstat_ad
                                            example: 123
                                        other_tags:
                                            type: number
                                            description: Значение веса для параметров ef_id, yclid, gclid, ymclid
                                            example: 123
                                        referrer:
                                            type: number
                                            description: Реферер
                                            example: 123
                                        referrer_domain:
                                            type: number
                                            description: Домен реферера
                                            example: 123
                                        search_engine:
                                            type: number
                                            description: Поисковая система
                                            example: 123
                                        search_query:
                                            type: number
                                            description: Поисковый запрос
                                            example: 123
                                        site_id:
                                            type: number
                                            description: Уникальный идентификатор сайта
                                            example: 123
                                        user_id:
                                            type: number
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                        utm_tags:
                                            type: number
                                            description: Значение веса для параметров utm_source, utm_medium, utm_campaign, utm_term, utm_content
                                            example: 123
                                    required:
                                        - site_id
                                        - access_token
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: number
                                        description: Request identifier
                                    jsonrpc:
                                        type: string
                                        description: JSON-RPC version
                                        example: "2.0"
                                    result:
                                        type: object
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                type: object
                                                description: Response metadata
                                        required:
                                            - data
                                            - metadata
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                "400":
                    description: Error response
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    error:
                                        type: object
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
            tags:
                - novofon
