info:
    description: Combined Site API specifications
    title: Novofon Site API
    version: 1.0.0
openapi: 3.0.0
paths:
    /create.site_blocks:
        post:
            description: |-
                Создание блока номеров для сайта

                **Request Parameters:** 4

                - `access_token` (string, required): Ключ сессии аутентификации

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `site_id` (number, required): Уникальный идентификатор сайта

                - `name` (string, required): Название блока номеров

                **Response Parameters:** 1

                - `id` (number): Уникальный идентификатор блока номеров
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: create.site_blocks
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        name:
                                            description: Название блока номеров
                                            example: example_string
                                            type: string
                                        site_id:
                                            description: Уникальный идентификатор сайта
                                            example: 123
                                            type: number
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                        - site_id
                                        - name
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                properties:
                                                    id:
                                                        description: Уникальный идентификатор блока номеров
                                                        example: 123
                                                        type: number
                                                required:
                                                    - id
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Создание сайта
            tags:
                - novofon
    /create.sites:
        post:
            description: |-
                Создание сайта

                **Request Parameters:** 23

                - `default_scenario_id` (number, optional): ID сценария Все звонки на этот номер будут обработаны по логике выбранного сценария по умолчанию

                - `industry_id` (number, required): Отрасль к которой относится сайт. 1 Автомобили и трансп. средства 2 Бизнес и услуги 3 Еда и напитки 4 Животные 5 Закон и правительство 6 Интернет и связь 7 Компьютеры и электроника 8 Красота и фитнес 9 Медицина 10 Недвижимость 11 Проживание и отели 12 Промышленность 13 Путешествия и туризм 14 Спорт 15 Строительство, ремонт 16 Учеба и образование 17 Финансы 18 Хобби и развлечения 19 Электронная коммерция и покупки

                - `second_communication_period` (number, optional): По умолчанию "1". Период повторного обращения. Задаётся в днях.

                - `replacement_dynamical_block_enabled` (boolean, optional): Подменять номера в динамически подгружаемых блоках. (По умолчанию False)

                - `enabled` (boolean, required): По умолчанию "false".

                - `message` (string, optional): Задаёт текст, который будет выводиться перед с номером посетителя на сайте.

                - `length_visitor_id` (number, optional): По умолчанию 6. Количество цифр идентификатора посетителя.

                - `cookie_lifetime` (number, optional): По умолчанию "90". Время жизни "cookie". Время задаётся в днях.

                - `services_enabled` (boolean, optional): По умолчанию "true". Возможность деактивировать сервис для одного конкретного сайта. В деактивированном состоянии производится только сбор статистики сайта, все сервисы (колл-трекинг, онлайн-консультант) отключены и не работают.

                - `widget_link` (object, optional): При активации опции, на формах заявок, чата и запроса анкетных данных появится ссылка, по клику на которую посетитель сайта будет перенаправлен на заданный URL.

                - `name` (string, optional): Имя сайта для отображения в фильтре сайтов ЛК, обзорном отчете и списке сайтов.

                - `default_phone_number` (string, required): Номер телефона по умолчанию, на который будут переадресованы звонки. Создаётся сценарий с заданным номером. Название сценария соответствует шаблону "Перенаправление на phone_number".

                - `target_call_min_duration` (number, optional): По умолчанию "30". Минимальное время звонка после которого он считается целевым. Значение задаётся в секундах.

                - `campaign_lifetime` (number, optional): По умолчанию "90". Время жизни рекламной компании. Время задаётся в днях.

                - `show_visitor_id` (object, optional): Отобразив идентификатор посетителя на сайте и узнав его у посетителя при звонке, вы сможете связать данные о посещении со звонком и тем самым узнать полные данные о звонящих (например, по каким конкретно поисковым запросам приходят посетители, которые вам звонят).

                - `element_id_value` (string, required): Для того чтобы на сайте появился идентификатор посетителя, в этом поле необходимо указать идентификатор (id) HTML-элемента сайта. На месте размещения идентификатора посетителя на страницах сайта необходимо добавить контейнер с данным id (например, <div id="comagicID"></div> . )

                - `access_token` (string, required): Ключ сессии аутентификации

                - `domain_name` (string, required): Адрес сайта в интернете. Без указания протокола - "http://" или "https://".

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `track_subdomains_enabled` (boolean, optional): По умолчанию "true". Отслеживать поддомены сайта.

                - `sales_enabled` (boolean, optional): По умолчанию "false". Учитывать ли продажи.

                - `text` (string, required): Текст ссылки (Не более 100 символов)

                - `url` (string, required): URL

                **Response Parameters:** 1

                - `id` (number): уникальный идентификатор сайта
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: create.sites
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        campaign_lifetime:
                                            description: По умолчанию "90". Время жизни рекламной компании. Время задаётся в днях.
                                            example: 123
                                            type: number
                                        cookie_lifetime:
                                            description: По умолчанию "90". Время жизни "cookie". Время задаётся в днях.
                                            example: 123
                                            type: number
                                        default_phone_number:
                                            description: Номер телефона по умолчанию, на который будут переадресованы звонки. Создаётся сценарий с заданным номером. Название сценария соответствует шаблону "Перенаправление на phone_number".
                                            example: example_string
                                            type: string
                                        default_scenario_id:
                                            description: ID сценария Все звонки на этот номер будут обработаны по логике выбранного сценария по умолчанию
                                            example: 123
                                            type: number
                                        domain_name:
                                            description: Адрес сайта в интернете. Без указания протокола - "http://" или "https://".
                                            example: example_string
                                            type: string
                                        element_id_value:
                                            description: Для того чтобы на сайте появился идентификатор посетителя, в этом поле необходимо указать идентификатор (id) HTML-элемента сайта. На месте размещения идентификатора посетителя на страницах сайта необходимо добавить контейнер с данным id (например, <div id="comagicID"></div> . )
                                            example: example_string
                                            type: string
                                        enabled:
                                            description: По умолчанию "false".
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        industry_id:
                                            description: Отрасль к которой относится сайт. 1 Автомобили и трансп. средства 2 Бизнес и услуги 3 Еда и напитки 4 Животные 5 Закон и правительство 6 Интернет и связь 7 Компьютеры и электроника 8 Красота и фитнес 9 Медицина 10 Недвижимость 11 Проживание и отели 12 Промышленность 13 Путешествия и туризм 14 Спорт 15 Строительство, ремонт 16 Учеба и образование 17 Финансы 18 Хобби и развлечения 19 Электронная коммерция и покупки
                                            example: 123
                                            type: number
                                        length_visitor_id:
                                            description: По умолчанию 6. Количество цифр идентификатора посетителя.
                                            example: 123
                                            type: number
                                        message:
                                            description: Задаёт текст, который будет выводиться перед с номером посетителя на сайте.
                                            example: example_string
                                            type: string
                                        name:
                                            description: Имя сайта для отображения в фильтре сайтов ЛК, обзорном отчете и списке сайтов.
                                            example: example_string
                                            type: string
                                        replacement_dynamical_block_enabled:
                                            description: Подменять номера в динамически подгружаемых блоках. (По умолчанию False)
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        sales_enabled:
                                            description: По умолчанию "false". Учитывать ли продажи.
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        second_communication_period:
                                            description: По умолчанию "1". Период повторного обращения. Задаётся в днях.
                                            example: 123
                                            type: number
                                        services_enabled:
                                            description: По умолчанию "true". Возможность деактивировать сервис для одного конкретного сайта. В деактивированном состоянии производится только сбор статистики сайта, все сервисы (колл-трекинг, онлайн-консультант) отключены и не работают.
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        show_visitor_id:
                                            description: Отобразив идентификатор посетителя на сайте и узнав его у посетителя при звонке, вы сможете связать данные о посещении со звонком и тем самым узнать полные данные о звонящих (например, по каким конкретно поисковым запросам приходят посетители, которые вам звонят).
                                            type: object
                                        target_call_min_duration:
                                            description: По умолчанию "30". Минимальное время звонка после которого он считается целевым. Значение задаётся в секундах.
                                            example: 123
                                            type: number
                                        text:
                                            description: Текст ссылки (Не более 100 символов)
                                            example: example_string
                                            type: string
                                        track_subdomains_enabled:
                                            description: По умолчанию "true". Отслеживать поддомены сайта.
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        url:
                                            description: URL
                                            example: example_string
                                            type: string
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                        widget_link:
                                            description: При активации опции, на формах заявок, чата и запроса анкетных данных появится ссылка, по клику на которую посетитель сайта будет перенаправлен на заданный URL.
                                            type: object
                                    required:
                                        - default_phone_number
                                        - element_id_value
                                        - access_token
                                        - domain_name
                                        - text
                                        - url
                                        - industry_id
                                        - enabled
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                properties:
                                                    id:
                                                        description: уникальный идентификатор сайта
                                                        example: 123
                                                        type: number
                                                required:
                                                    - id
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Создание сайта
            tags:
                - novofon
    /delete.site_blocks:
        delete:
            description: |-
                Удаление блока номеров для сайта

                **Request Parameters:** 3

                - `access_token` (string, required): Ключ сессии аутентификации

                - `id` (number, required): Уникальный идентификатор блока номеров

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: delete.site_blocks
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        id:
                                            description: Уникальный идентификатор блока номеров
                                            example: 123
                                            type: number
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                        - id
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Удаление блока номеров для сайта
            tags:
                - novofon
    /delete.sites:
        delete:
            description: |-
                Удаление сайта

                **Request Parameters:** 3

                - `access_token` (string, required): Ключ сессии аутентификации

                - `id` (number, required): Уникальный идентификатор сайт

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: delete.sites
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        id:
                                            description: Уникальный идентификатор сайт
                                            example: 123
                                            type: number
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                        - id
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Удаление сайта
            tags:
                - novofon
    /get.site_blocks:
        get:
            description: "Получение списка блоков номеров сайта\n\n**Request Parameters:** 7\n\n- `fields` (array, optional): См. раздел \"Представление возвращаемых данных\"\n\n- `sort` (array, optional): См. раздел \"Сортировка данных\"\n\n- `access_token` (string, required): Ключ сессии аутентификации\n\n- `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод \"get.customer_users\"\n\n- `limit` (number, optional): Количество возвращаемых записей. См. раздел \"Постраничный вывод\"\n\n- `offset` (number, optional): Сдвиг, определяет с какого номера записи возвращать \"limit\" записей. По умолчанию \"0\". См. раздел \"Постраничный вывод\"\n\n- `filter` (object, optional): См. раздел \"Критерии фильтрации\"\n\n**Response Parameters:** 17\n\n- `site_domain_name` (string): да\n\n- `template_id` (number): \n\n- `template_type` (enum): \n\n- `element_attribute_value` (string): \n\n- `phone_number_template` (string): \n\n- `phone_numbers` (array): да\n\n- `campaign_id` (number): \n\n- `image_url` (string): \n\n- `id` (number): да\n\n- `site_id` (number): да\n\n- `phone_number` (string): \n\n- `name` (string): да\n\n- `templates` (array): \n\n- `campaign_name` (string): \n\n- `element_attribute` (enum): \n\n- `phone_number_mask` (string): \n\n- `phone_number_id` (number): "
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: get.site_blocks
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        fields:
                                            description: См. раздел "Представление возвращаемых данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        filter:
                                            description: См. раздел "Критерии фильтрации"
                                            type: object
                                        limit:
                                            description: Количество возвращаемых записей. См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        offset:
                                            description: Сдвиг, определяет с какого номера записи возвращать "limit" записей. По умолчанию "0". См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        sort:
                                            description: См. раздел "Сортировка данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                properties:
                                                    campaign_id:
                                                        example: 123
                                                        type: number
                                                    campaign_name:
                                                        example: example_string
                                                        type: string
                                                    element_attribute:
                                                        type: string
                                                    element_attribute_value:
                                                        example: example_string
                                                        type: string
                                                    id:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    image_url:
                                                        example: example_string
                                                        type: string
                                                    name:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    phone_number:
                                                        example: example_string
                                                        type: string
                                                    phone_number_id:
                                                        example: 123
                                                        type: number
                                                    phone_number_mask:
                                                        example: example_string
                                                        type: string
                                                    phone_number_template:
                                                        example: example_string
                                                        type: string
                                                    phone_numbers:
                                                        description: да
                                                        example: []
                                                        items:
                                                            example: example_string
                                                            type: string
                                                        type: array
                                                    site_domain_name:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    site_id:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    template_id:
                                                        example: 123
                                                        type: number
                                                    template_type:
                                                        type: string
                                                    templates:
                                                        example: []
                                                        items:
                                                            example: example_string
                                                            type: string
                                                        type: array
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Получение списка блоков номеров
            tags:
                - novofon
    /get.sites:
        get:
            description: "Получение списка сайтов\n\n**Request Parameters:** 7\n\n- `offset` (number, optional): Сдвиг, определяет с какого номера записи возвращать \"limit\" записей. По умолчанию \"0\". См. раздел \"Постраничный вывод\"\n\n- `filter` (object, optional): См. раздел \"Критерии фильтрации\"\n\n- `fields` (array, optional): См. раздел \"Представление возвращаемых данных\"\n\n- `sort` (array, optional): См. раздел \"Сортировка данных\"\n\n- `access_token` (string, required): Ключ сессии аутентификации\n\n- `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод \"get.customer_users\"\n\n- `limit` (number, optional): Количество возвращаемых записей. См. раздел \"Постраничный вывод\"\n\n**Response Parameters:** 31\n\n- `show_visitor_id` (object): \n\n- `connected_integrations` (array): \n\n- `default_phone_number` (string): да\n\n- `sales_enabled` (boolean): да\n\n- `second_communication_period` (number): да\n\n- `widget_link` (object): \n\n- `length_visitor_id` (string): \n\n- `domain_name` (string): да\n\n- `scenario_name` (string): да\n\n- `track_subdomains` (boolean): да\n\n- `url` (string): \n\n- `industry_id` (number): \n\n- `site_blocks` (array): да\n\n- `campaign_lifetime` (number): да\n\n- `services_enabled` (boolean): да\n\n- `enabled` (boolean): \n\n- `text` (string): \n\n- `element_id_value` (string): \n\n- `id` (number): да\n\n- `default_scenario` (object): \n\n- `replacement_dynamical_block_enabled` (boolean): false, true\n\n- `site_block_name` (string): \n\n- `name` (string): да\n\n- `site_key` (string): \n\n- `cookie_lifetime` (number): да\n\n- `scenario_id` (number): \n\n- `target_call_min_duration` (number): да\n\n- `industry_name` (string): \n\n- `message` (string): \n\n- `site_block_id` (number): \n\n- `creation_date` (iso8601): да"
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: get.sites
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        fields:
                                            description: См. раздел "Представление возвращаемых данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        filter:
                                            description: См. раздел "Критерии фильтрации"
                                            type: object
                                        limit:
                                            description: Количество возвращаемых записей. См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        offset:
                                            description: Сдвиг, определяет с какого номера записи возвращать "limit" записей. По умолчанию "0". См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        sort:
                                            description: См. раздел "Сортировка данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                properties:
                                                    campaign_lifetime:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    connected_integrations:
                                                        example: []
                                                        items:
                                                            example: example_string
                                                            type: string
                                                        type: array
                                                    cookie_lifetime:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    creation_date:
                                                        description: да
                                                    default_phone_number:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    default_scenario:
                                                        type: object
                                                    domain_name:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    element_id_value:
                                                        example: example_string
                                                        type: string
                                                    enabled:
                                                        example: true
                                                        type: boolean
                                                    id:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    industry_id:
                                                        example: 123
                                                        type: number
                                                    industry_name:
                                                        example: example_string
                                                        type: string
                                                    length_visitor_id:
                                                        example: example_string
                                                        type: string
                                                    message:
                                                        example: example_string
                                                        type: string
                                                    name:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    replacement_dynamical_block_enabled:
                                                        description: false, true
                                                        example: true
                                                        type: boolean
                                                    sales_enabled:
                                                        description: да
                                                        example: true
                                                        type: boolean
                                                    scenario_id:
                                                        example: 123
                                                        type: number
                                                    scenario_name:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    second_communication_period:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    services_enabled:
                                                        description: да
                                                        example: true
                                                        type: boolean
                                                    show_visitor_id:
                                                        type: object
                                                    site_block_id:
                                                        example: 123
                                                        type: number
                                                    site_block_name:
                                                        example: example_string
                                                        type: string
                                                    site_blocks:
                                                        description: да
                                                        example: []
                                                        items:
                                                            example: example_string
                                                            type: string
                                                        type: array
                                                    site_key:
                                                        example: example_string
                                                        type: string
                                                    target_call_min_duration:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    text:
                                                        example: example_string
                                                        type: string
                                                    track_subdomains:
                                                        description: да
                                                        example: true
                                                        type: boolean
                                                    url:
                                                        example: example_string
                                                        type: string
                                                    widget_link:
                                                        type: object
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Получение списка сайтов
            tags:
                - novofon
    /update.site_blocks:
        put:
            description: |-
                Редактирование блока номеров для сайта

                **Request Parameters:** 3

                - `access_token` (string, required): Ключ сессии аутентификации

                - `id` (number, required): Уникальный идентификатор блока номеров

                - `name` (string, optional): Название блока номеров
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: update.site_blocks
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        id:
                                            description: Уникальный идентификатор блока номеров
                                            example: 123
                                            type: number
                                        name:
                                            description: Название блока номеров
                                            example: example_string
                                            type: string
                                    required:
                                        - access_token
                                        - id
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Редактирование сайта
            tags:
                - novofon
    /update.sites:
        put:
            description: |-
                Редактирование сайта

                **Request Parameters:** 24

                - `campaign_lifetime` (number, optional): По умолчанию "90". Время жизни рекламной компании. Время задаётся в днях.

                - `access_token` (string, required): Ключ сессии аутентификации

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `track_subdomains_enabled` (boolean, optional): По умолчанию "true". Отслеживать поддомены сайта.

                - `text` (string, required): Текст ссылки (Не более 100 символов)

                - `show_visitor_id` (object, optional): Отобразив идентификатор посетителя на сайте и узнав его у посетителя при звонке, вы сможете связать данные о посещении со звонком и тем самым узнать полные данные о звонящих (например, по каким конкретно поисковым запросам приходят посетители, которые вам звонят).

                - `length_visitor_id` (number, optional): По умолчанию 6. Количество цифр идентификатора посетителя.

                - `name` (string, optional): Имя сайта для отображения в фильтре сайтов ЛК, обзорном отчете и списке сайтов.

                - `target_call_min_duration` (number, optional): По умолчанию "30". Минимальное время звонка после которого он считается целевым. Значение задаётся в секундах.

                - `services_enabled` (boolean, optional): По умолчанию "true". Возможность деактивировать сервис для одного конкретного сайта. В деактивированном состоянии производится только сбор статистики сайта, все сервисы (колл-трекинг, онлайн-консультант) отключены и не работают.

                - `replacement_dynamical_block_enabled` (boolean, optional): Подменять номера в динамически подгружаемых блоках.

                - `widget_link` (object, optional): При активации опции, на формах заявок, чата и запроса анкетных данных появится ссылка, по клику на которую посетитель сайта будет перенаправлен на заданный URL.

                - `element_id_value` (string, required): Для того чтобы на сайте появился идентификатор посетителя, в этом поле необходимо указать идентификатор (id) HTML-элемента сайта. На месте размещения идентификатора посетителя на страницах сайта необходимо добавить контейнер с данным id (например, <div id="comagicID"></div> . )

                - `sales_enabled` (boolean, optional): По умолчанию "false". Учитывать ли продажи.

                - `id` (number, required): Уникальный идентификатор сайта

                - `domain_name` (string, optional): Адрес сайта в интернете. Без указания протокола - "http://" или "https://".

                - `default_phone_number` (string, required): Номер телефона по умолчанию, на который будут переадресованы звонки. Создаётся сценарий с заданным номером. Название сценария соответствует шаблону "Перенаправление на phone_number".

                - `default_scenario_id` (number, optional): ID сценария Все звонки на этот номер будут обработаны по логике выбранного сценария по умолчанию

                - `industry_id` (number, required): Отрасль к которой относится сайт. 1 Автомобили и трансп. средства 2 Бизнес и услуги 3 Еда и напитки 4 Животные 5 Закон и правительство 6 Интернет и связь 7 Компьютеры и электроника 8 Красота и фитнес 9 Медицина 10 Недвижимость 11 Проживание и отели 12 Промышленность 13 Путешествия и туризм 14 Спорт 15 Строительство, ремонт 16 Учеба и образование 17 Финансы 18 Хобби и развлечения 19 Электронная коммерция и покупки

                - `url` (string, required): URL

                - `message` (string, optional): Задаёт текст, который будет выводиться перед с номером посетителя на сайте.

                - `cookie_lifetime` (number, optional): По умолчанию "90". Время жизни "cookie". Время задаётся в днях.

                - `second_communication_period` (number, optional): По умолчанию "1". Период повторного обращения. Задаётся в днях.

                - `enabled` (boolean, required): По умолчанию "false".
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: update.sites
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        campaign_lifetime:
                                            description: По умолчанию "90". Время жизни рекламной компании. Время задаётся в днях.
                                            example: 123
                                            type: number
                                        cookie_lifetime:
                                            description: По умолчанию "90". Время жизни "cookie". Время задаётся в днях.
                                            example: 123
                                            type: number
                                        default_phone_number:
                                            description: Номер телефона по умолчанию, на который будут переадресованы звонки. Создаётся сценарий с заданным номером. Название сценария соответствует шаблону "Перенаправление на phone_number".
                                            example: example_string
                                            type: string
                                        default_scenario_id:
                                            description: ID сценария Все звонки на этот номер будут обработаны по логике выбранного сценария по умолчанию
                                            example: 123
                                            type: number
                                        domain_name:
                                            description: Адрес сайта в интернете. Без указания протокола - "http://" или "https://".
                                            example: example_string
                                            type: string
                                        element_id_value:
                                            description: Для того чтобы на сайте появился идентификатор посетителя, в этом поле необходимо указать идентификатор (id) HTML-элемента сайта. На месте размещения идентификатора посетителя на страницах сайта необходимо добавить контейнер с данным id (например, <div id="comagicID"></div> . )
                                            example: example_string
                                            type: string
                                        enabled:
                                            description: По умолчанию "false".
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        id:
                                            description: Уникальный идентификатор сайта
                                            example: 123
                                            type: number
                                        industry_id:
                                            description: Отрасль к которой относится сайт. 1 Автомобили и трансп. средства 2 Бизнес и услуги 3 Еда и напитки 4 Животные 5 Закон и правительство 6 Интернет и связь 7 Компьютеры и электроника 8 Красота и фитнес 9 Медицина 10 Недвижимость 11 Проживание и отели 12 Промышленность 13 Путешествия и туризм 14 Спорт 15 Строительство, ремонт 16 Учеба и образование 17 Финансы 18 Хобби и развлечения 19 Электронная коммерция и покупки
                                            example: 123
                                            type: number
                                        length_visitor_id:
                                            description: По умолчанию 6. Количество цифр идентификатора посетителя.
                                            example: 123
                                            type: number
                                        message:
                                            description: Задаёт текст, который будет выводиться перед с номером посетителя на сайте.
                                            example: example_string
                                            type: string
                                        name:
                                            description: Имя сайта для отображения в фильтре сайтов ЛК, обзорном отчете и списке сайтов.
                                            example: example_string
                                            type: string
                                        replacement_dynamical_block_enabled:
                                            description: Подменять номера в динамически подгружаемых блоках.
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        sales_enabled:
                                            description: По умолчанию "false". Учитывать ли продажи.
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        second_communication_period:
                                            description: По умолчанию "1". Период повторного обращения. Задаётся в днях.
                                            example: 123
                                            type: number
                                        services_enabled:
                                            description: По умолчанию "true". Возможность деактивировать сервис для одного конкретного сайта. В деактивированном состоянии производится только сбор статистики сайта, все сервисы (колл-трекинг, онлайн-консультант) отключены и не работают.
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        show_visitor_id:
                                            description: Отобразив идентификатор посетителя на сайте и узнав его у посетителя при звонке, вы сможете связать данные о посещении со звонком и тем самым узнать полные данные о звонящих (например, по каким конкретно поисковым запросам приходят посетители, которые вам звонят).
                                            type: object
                                        target_call_min_duration:
                                            description: По умолчанию "30". Минимальное время звонка после которого он считается целевым. Значение задаётся в секундах.
                                            example: 123
                                            type: number
                                        text:
                                            description: Текст ссылки (Не более 100 символов)
                                            example: example_string
                                            type: string
                                        track_subdomains_enabled:
                                            description: По умолчанию "true". Отслеживать поддомены сайта.
                                            enum:
                                                - "false"
                                                - "true"
                                            example: "false"
                                            type: boolean
                                        url:
                                            description: URL
                                            example: example_string
                                            type: string
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                        widget_link:
                                            description: При активации опции, на формах заявок, чата и запроса анкетных данных появится ссылка, по клику на которую посетитель сайта будет перенаправлен на заданный URL.
                                            type: object
                                    required:
                                        - access_token
                                        - text
                                        - element_id_value
                                        - id
                                        - default_phone_number
                                        - industry_id
                                        - url
                                        - enabled
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Редактирование сайта
            tags:
                - novofon
