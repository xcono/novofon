openapi: 3.0.0
info:
    title: Редактирование сайта
    version: 1.0.0
    description: Редактирование сайта
paths:
    /update.sites:
        put:
            summary: Редактирование сайта
            description: |-
                Редактирование сайта

                **Request Parameters:** 24

                - `campaign_lifetime` (number, optional): По умолчанию "90". Время жизни рекламной компании. Время задаётся в днях.

                - `access_token` (string, required): Ключ сессии аутентификации

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `track_subdomains_enabled` (boolean, optional): По умолчанию "true". Отслеживать поддомены сайта.

                - `text` (string, required): Текст ссылки (Не более 100 символов)

                - `show_visitor_id` (object, optional): Отобразив идентификатор посетителя на сайте и узнав его у посетителя при звонке, вы сможете связать данные о посещении со звонком и тем самым узнать полные данные о звонящих (например, по каким конкретно поисковым запросам приходят посетители, которые вам звонят).

                - `length_visitor_id` (number, optional): По умолчанию 6. Количество цифр идентификатора посетителя.

                - `name` (string, optional): Имя сайта для отображения в фильтре сайтов ЛК, обзорном отчете и списке сайтов.

                - `target_call_min_duration` (number, optional): По умолчанию "30". Минимальное время звонка после которого он считается целевым. Значение задаётся в секундах.

                - `services_enabled` (boolean, optional): По умолчанию "true". Возможность деактивировать сервис для одного конкретного сайта. В деактивированном состоянии производится только сбор статистики сайта, все сервисы (колл-трекинг, онлайн-консультант) отключены и не работают.

                - `replacement_dynamical_block_enabled` (boolean, optional): Подменять номера в динамически подгружаемых блоках.

                - `widget_link` (object, optional): При активации опции, на формах заявок, чата и запроса анкетных данных появится ссылка, по клику на которую посетитель сайта будет перенаправлен на заданный URL.

                - `element_id_value` (string, required): Для того чтобы на сайте появился идентификатор посетителя, в этом поле необходимо указать идентификатор (id) HTML-элемента сайта. На месте размещения идентификатора посетителя на страницах сайта необходимо добавить контейнер с данным id (например, <div id="comagicID"></div> . )

                - `sales_enabled` (boolean, optional): По умолчанию "false". Учитывать ли продажи.

                - `id` (number, required): Уникальный идентификатор сайта

                - `domain_name` (string, optional): Адрес сайта в интернете. Без указания протокола - "http://" или "https://".

                - `default_phone_number` (string, required): Номер телефона по умолчанию, на который будут переадресованы звонки. Создаётся сценарий с заданным номером. Название сценария соответствует шаблону "Перенаправление на phone_number".

                - `default_scenario_id` (number, optional): ID сценария Все звонки на этот номер будут обработаны по логике выбранного сценария по умолчанию

                - `industry_id` (number, required): Отрасль к которой относится сайт. 1 Автомобили и трансп. средства 2 Бизнес и услуги 3 Еда и напитки 4 Животные 5 Закон и правительство 6 Интернет и связь 7 Компьютеры и электроника 8 Красота и фитнес 9 Медицина 10 Недвижимость 11 Проживание и отели 12 Промышленность 13 Путешествия и туризм 14 Спорт 15 Строительство, ремонт 16 Учеба и образование 17 Финансы 18 Хобби и развлечения 19 Электронная коммерция и покупки

                - `url` (string, required): URL

                - `message` (string, optional): Задаёт текст, который будет выводиться перед с номером посетителя на сайте.

                - `cookie_lifetime` (number, optional): По умолчанию "90". Время жизни "cookie". Время задаётся в днях.

                - `second_communication_period` (number, optional): По умолчанию "1". Период повторного обращения. Задаётся в днях.

                - `enabled` (boolean, required): По умолчанию "false".
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                id:
                                    type: number
                                    description: Request identifier
                                jsonrpc:
                                    type: string
                                    description: JSON-RPC version
                                    example: "2.0"
                                method:
                                    type: string
                                    description: Method name
                                    example: update.sites
                                params:
                                    type: object
                                    properties:
                                        access_token:
                                            type: string
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                        campaign_lifetime:
                                            type: number
                                            description: По умолчанию "90". Время жизни рекламной компании. Время задаётся в днях.
                                            example: 123
                                        cookie_lifetime:
                                            type: number
                                            description: По умолчанию "90". Время жизни "cookie". Время задаётся в днях.
                                            example: 123
                                        default_phone_number:
                                            type: string
                                            description: Номер телефона по умолчанию, на который будут переадресованы звонки. Создаётся сценарий с заданным номером. Название сценария соответствует шаблону "Перенаправление на phone_number".
                                            example: example_string
                                        default_scenario_id:
                                            type: number
                                            description: ID сценария Все звонки на этот номер будут обработаны по логике выбранного сценария по умолчанию
                                            example: 123
                                        domain_name:
                                            type: string
                                            description: Адрес сайта в интернете. Без указания протокола - "http://" или "https://".
                                            example: example_string
                                        element_id_value:
                                            type: string
                                            description: Для того чтобы на сайте появился идентификатор посетителя, в этом поле необходимо указать идентификатор (id) HTML-элемента сайта. На месте размещения идентификатора посетителя на страницах сайта необходимо добавить контейнер с данным id (например, <div id="comagicID"></div> . )
                                            example: example_string
                                        enabled:
                                            type: boolean
                                            description: По умолчанию "false".
                                            example: "false"
                                            enum:
                                                - "false"
                                                - "true"
                                        id:
                                            type: number
                                            description: Уникальный идентификатор сайта
                                            example: 123
                                        industry_id:
                                            type: number
                                            description: Отрасль к которой относится сайт. 1 Автомобили и трансп. средства 2 Бизнес и услуги 3 Еда и напитки 4 Животные 5 Закон и правительство 6 Интернет и связь 7 Компьютеры и электроника 8 Красота и фитнес 9 Медицина 10 Недвижимость 11 Проживание и отели 12 Промышленность 13 Путешествия и туризм 14 Спорт 15 Строительство, ремонт 16 Учеба и образование 17 Финансы 18 Хобби и развлечения 19 Электронная коммерция и покупки
                                            example: 123
                                        length_visitor_id:
                                            type: number
                                            description: По умолчанию 6. Количество цифр идентификатора посетителя.
                                            example: 123
                                        message:
                                            type: string
                                            description: Задаёт текст, который будет выводиться перед с номером посетителя на сайте.
                                            example: example_string
                                        name:
                                            type: string
                                            description: Имя сайта для отображения в фильтре сайтов ЛК, обзорном отчете и списке сайтов.
                                            example: example_string
                                        replacement_dynamical_block_enabled:
                                            type: boolean
                                            description: Подменять номера в динамически подгружаемых блоках.
                                            example: "false"
                                            enum:
                                                - "false"
                                                - "true"
                                        sales_enabled:
                                            type: boolean
                                            description: По умолчанию "false". Учитывать ли продажи.
                                            example: "false"
                                            enum:
                                                - "false"
                                                - "true"
                                        second_communication_period:
                                            type: number
                                            description: По умолчанию "1". Период повторного обращения. Задаётся в днях.
                                            example: 123
                                        services_enabled:
                                            type: boolean
                                            description: По умолчанию "true". Возможность деактивировать сервис для одного конкретного сайта. В деактивированном состоянии производится только сбор статистики сайта, все сервисы (колл-трекинг, онлайн-консультант) отключены и не работают.
                                            example: "false"
                                            enum:
                                                - "false"
                                                - "true"
                                        show_visitor_id:
                                            type: object
                                            description: Отобразив идентификатор посетителя на сайте и узнав его у посетителя при звонке, вы сможете связать данные о посещении со звонком и тем самым узнать полные данные о звонящих (например, по каким конкретно поисковым запросам приходят посетители, которые вам звонят).
                                        target_call_min_duration:
                                            type: number
                                            description: По умолчанию "30". Минимальное время звонка после которого он считается целевым. Значение задаётся в секундах.
                                            example: 123
                                        text:
                                            type: string
                                            description: Текст ссылки (Не более 100 символов)
                                            example: example_string
                                        track_subdomains_enabled:
                                            type: boolean
                                            description: По умолчанию "true". Отслеживать поддомены сайта.
                                            example: "false"
                                            enum:
                                                - "false"
                                                - "true"
                                        url:
                                            type: string
                                            description: URL
                                            example: example_string
                                        user_id:
                                            type: number
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                        widget_link:
                                            type: object
                                            description: При активации опции, на формах заявок, чата и запроса анкетных данных появится ссылка, по клику на которую посетитель сайта будет перенаправлен на заданный URL.
                                    required:
                                        - access_token
                                        - text
                                        - element_id_value
                                        - id
                                        - default_phone_number
                                        - industry_id
                                        - url
                                        - enabled
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
            responses:
                "200":
                    description: Successful response
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    id:
                                        type: number
                                        description: Request identifier
                                    jsonrpc:
                                        type: string
                                        description: JSON-RPC version
                                        example: "2.0"
                                    result:
                                        type: object
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                type: object
                                                description: Response metadata
                                        required:
                                            - data
                                            - metadata
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                "400":
                    description: Error response
                    content:
                        application/json:
                            schema:
                                type: object
                                properties:
                                    error:
                                        type: object
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
            tags:
                - novofon
