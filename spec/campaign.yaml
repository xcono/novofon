info:
    description: Combined Campaign API specifications
    title: Novofon Campaign API
    version: 1.0.0
openapi: 3.0.0
paths:
    /create.campaigns:
        post:
            description: |-
                Создание рекламной кампании. Можно создать только рекламную кампания с типом 'basic'.

                **Request Parameters:** 22

                - `status` (enum, optional): Статус рекламной кампании

                - `reservation_time` (enum, optional): Значение по умолчанию "15m". Период, на который номер закрепляется за посетителем сайта. По истечении указанного времени номер закрепляется за новым посетителем (или остается за текущим в случае наличия свободных номеров коллтрекинга).

                - `count_virtual_numbers` (number, required): Количество номеров необходимое для работы динамического коллтрекинга в одном блоке. Указанное количество номеров будет куплено.

                - `group_conditions` (array, required): Группа условий рекламной кампании

                - `conditions` (array, required): Условия рекламной кампании в группе условий

                - `type` (enum, required): Условия рекламной кампании в группе условий include - включает exclude - исключает

                - `value` (string, required): Значение. Для некоторых campaign_parameter может быть свой список допустимых значений см. в таблице "Список параметров и их операторов"

                - `dynamic_call_tracking_enabled` (boolean, optional): Активация динамический коллтрекинг. В пул динамического коллтрекинга можно подключить только свободные номера без флага "Использовать в ВАТС" в том же коде, что и номер блока рекламной кампании по умолчанию. При отсутствии необходимого количества номеров они будут автоматически куплены. Звонки на номера из пула динамического коллтрекинга будут обрабатываться по правилам обработки звонков на номер блока рекламной кампании по умолчанию. Может принимать значение "true", если параметр phone_number_id = va | call_tracking. Если это не так, то будет возвращена ошибка с мнемоникой "invalid_parameters_combination" Если Вы используете этот параметр, но у вас не подключен компонент "dynamic_call_tracking", то Вам вернется ошибка с мнемоникой "parameter_component_disabled" Если задан одновременно status = inactive, то будет возвращена ошибка `invalid_parameters_combination` Если параметр dynamic_call_tracking_enabled имеет значение "true", то параметр dynamic_call_tracking обязателен к заполнению. Будет возвращена ошибка "invalid_parameters_combination".

                - `access_token` (string, required): Ключ сессии аутентификации

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `phone_number_id` (number, required): Уникальный идентификатор виртуального номера. Чтобы получить список доступных виртуальных номеров необходимо использовать метод get.campaign_available_phone_numbers Если указан id который не возвращается методом get.campaign_available_phone_numbers, то будет возвращена ошибка с мнемоникой "entity_not_found". Номер с type = call_tracking может использоваться только в одной рекламной кампании. Если номер уже используется в другой рекламной кампании, то будет возвращена ошибка `already_in_use`

                - `redirection_phone_number_id` (number, optional): Уникальный идентификатор номера переадресации. Номер переадресации используется только в том случае, если параметр phone_number_id имеет тип `call_tracking`. Список доступных номеров можно получить методом get.campaign_available_redirection_phone_numbers. Обязателен для заполнения, если в параметре phone_number_id указан виртуальный номер с типом "call_tracking". Если это не так, то будет возвращена ошибка с мнемоникой "required_parameter_missed". Если параметр задан и в phone_number_id указан виртуальный номер с типом "va", то будет возвращаться ошибка `invalid_parameters_combination` В параметре могут быть указаны только номера переадресации, которые возвращаются методом get.campaign_available_redirection_phone_numbers. Если это не так, то будет возвращаться ошибка с мнемоникой "invalid_parameter_value" Доступен, если подключен компонент "va". Если параметр будет заполнен и у вас отсутствует компонент "va", то будет возвращена ошибка с мнемоникой "parameter_component_disabled"

                - `campaign_parameter` (enum, required): Список допустимых значений и возможных операторов см. в таблице "Список параметров и их операторов"

                - `operator` (enum, required): Оператор в условии. Зависит от используемого параметра campaign_parameter см. в таблице "Список параметров и их операторов" "=" - точно соответствует "sub" - включает "~" - регулярное выражение

                - `name` (string, required): Название рекламной кампании

                - `description` (string, optional): Описание рекламной кампании

                - `dynamic_call_tracking` (object, optional): Настройка динамический коллтрекинг. Обязателен к заполнению, если параметр dynamic_call_tracking_enabled у хоть одного блока имеет значение "true" иначе будет возвращена ошибка с мнемоникой "invalid_parameters_combination" Если Вы используете этот параметр, но у вас не подключен компонент "dynamic_call_tracking", то Вам вернется ошибка с мнемоникой "parameter_component_disabled"

                - `site_id` (number, required): Уникальный идентификатор сайта

                - `campaign_conditions` (object, optional): Условия рекламной кампании.

                - `site_blocks` (array, optional): Настройки привязки номера к блоку на сайте Если блоки номеров сайта не указаны, то они не настраиваются, т.е. считаются не настроенными Если site_blocks задан одновременно с status = inactive, то будет возвращаться ошибка `invalid_parameters_combination`

                - `site_block_id` (number, required): Уникальный идентификатор блока номеров

                - `count_visits` (number, required): Количество посещений по рекламной кампании в сутки

                **Response Parameters:** 1

                - `id` (number): Уникальный идентификатор рекламной кампании
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: create.campaigns
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        campaign_conditions:
                                            description: Условия рекламной кампании.
                                            type: object
                                        campaign_parameter:
                                            description: Список допустимых значений и возможных операторов см. в таблице "Список параметров и их операторов"
                                            type: string
                                        conditions:
                                            description: Условия рекламной кампании в группе условий
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        count_virtual_numbers:
                                            description: Количество номеров необходимое для работы динамического коллтрекинга в одном блоке. Указанное количество номеров будет куплено.
                                            example: 123
                                            type: number
                                        count_visits:
                                            description: Количество посещений по рекламной кампании в сутки
                                            example: 123
                                            type: number
                                        description:
                                            description: Описание рекламной кампании
                                            example: example_string
                                            type: string
                                        dynamic_call_tracking:
                                            description: Настройка динамический коллтрекинг. Обязателен к заполнению, если параметр dynamic_call_tracking_enabled у хоть одного блока имеет значение "true" иначе будет возвращена ошибка с мнемоникой "invalid_parameters_combination" Если Вы используете этот параметр, но у вас не подключен компонент "dynamic_call_tracking", то Вам вернется ошибка с мнемоникой "parameter_component_disabled"
                                            type: object
                                        dynamic_call_tracking_enabled:
                                            description: Активация динамический коллтрекинг. В пул динамического коллтрекинга можно подключить только свободные номера без флага "Использовать в ВАТС" в том же коде, что и номер блока рекламной кампании по умолчанию. При отсутствии необходимого количества номеров они будут автоматически куплены. Звонки на номера из пула динамического коллтрекинга будут обрабатываться по правилам обработки звонков на номер блока рекламной кампании по умолчанию. Может принимать значение "true", если параметр phone_number_id = va | call_tracking. Если это не так, то будет возвращена ошибка с мнемоникой "invalid_parameters_combination" Если Вы используете этот параметр, но у вас не подключен компонент "dynamic_call_tracking", то Вам вернется ошибка с мнемоникой "parameter_component_disabled" Если задан одновременно status = inactive, то будет возвращена ошибка `invalid_parameters_combination` Если параметр dynamic_call_tracking_enabled имеет значение "true", то параметр dynamic_call_tracking обязателен к заполнению. Будет возвращена ошибка "invalid_parameters_combination".
                                            enum:
                                                - "true"
                                                - "false"
                                            example: "true"
                                            type: boolean
                                        group_conditions:
                                            description: Группа условий рекламной кампании
                                            example: []
                                            items:
                                                example: 123
                                                type: number
                                            type: array
                                        name:
                                            description: Название рекламной кампании
                                            example: example_string
                                            type: string
                                        operator:
                                            description: Оператор в условии. Зависит от используемого параметра campaign_parameter см. в таблице "Список параметров и их операторов" "=" - точно соответствует "sub" - включает "~" - регулярное выражение
                                            enum:
                                                - =
                                                - sub
                                                - "~"
                                            example: =
                                            type: string
                                        phone_number_id:
                                            description: Уникальный идентификатор виртуального номера. Чтобы получить список доступных виртуальных номеров необходимо использовать метод get.campaign_available_phone_numbers Если указан id который не возвращается методом get.campaign_available_phone_numbers, то будет возвращена ошибка с мнемоникой "entity_not_found". Номер с type = call_tracking может использоваться только в одной рекламной кампании. Если номер уже используется в другой рекламной кампании, то будет возвращена ошибка `already_in_use`
                                            example: 123
                                            type: number
                                        redirection_phone_number_id:
                                            description: Уникальный идентификатор номера переадресации. Номер переадресации используется только в том случае, если параметр phone_number_id имеет тип `call_tracking`. Список доступных номеров можно получить методом get.campaign_available_redirection_phone_numbers. Обязателен для заполнения, если в параметре phone_number_id указан виртуальный номер с типом "call_tracking". Если это не так, то будет возвращена ошибка с мнемоникой "required_parameter_missed". Если параметр задан и в phone_number_id указан виртуальный номер с типом "va", то будет возвращаться ошибка `invalid_parameters_combination` В параметре могут быть указаны только номера переадресации, которые возвращаются методом get.campaign_available_redirection_phone_numbers. Если это не так, то будет возвращаться ошибка с мнемоникой "invalid_parameter_value" Доступен, если подключен компонент "va". Если параметр будет заполнен и у вас отсутствует компонент "va", то будет возвращена ошибка с мнемоникой "parameter_component_disabled"
                                            example: 123
                                            type: number
                                        reservation_time:
                                            description: Значение по умолчанию "15m". Период, на который номер закрепляется за посетителем сайта. По истечении указанного времени номер закрепляется за новым посетителем (или остается за текущим в случае наличия свободных номеров коллтрекинга).
                                            type: string
                                        site_block_id:
                                            description: Уникальный идентификатор блока номеров
                                            example: 123
                                            type: number
                                        site_blocks:
                                            description: Настройки привязки номера к блоку на сайте Если блоки номеров сайта не указаны, то они не настраиваются, т.е. считаются не настроенными Если site_blocks задан одновременно с status = inactive, то будет возвращаться ошибка `invalid_parameters_combination`
                                            example: []
                                            items:
                                                example: 123
                                                type: number
                                            type: array
                                        site_id:
                                            description: Уникальный идентификатор сайта
                                            example: 123
                                            type: number
                                        status:
                                            description: Статус рекламной кампании
                                            type: string
                                        type:
                                            description: Условия рекламной кампании в группе условий include - включает exclude - исключает
                                            type: string
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                        value:
                                            description: Значение. Для некоторых campaign_parameter может быть свой список допустимых значений см. в таблице "Список параметров и их операторов"
                                            example: example_string
                                            type: string
                                    required:
                                        - site_id
                                        - site_block_id
                                        - count_visits
                                        - count_virtual_numbers
                                        - group_conditions
                                        - conditions
                                        - type
                                        - value
                                        - access_token
                                        - phone_number_id
                                        - campaign_parameter
                                        - operator
                                        - name
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                properties:
                                                    id:
                                                        description: Уникальный идентификатор рекламной кампании
                                                        example: 123
                                                        type: number
                                                required:
                                                    - id
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Создание рекламной кампании
            tags:
                - novofon
    /delete.campaigns:
        delete:
            description: |-
                Удаление рекламной кампании

                **Request Parameters:** 3

                - `access_token` (string, required): Ключ сессии аутентификации

                - `id` (number, required): Уникальный идентификатор рекламной кампании

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: delete.campaigns
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        id:
                                            description: Уникальный идентификатор рекламной кампании
                                            example: 123
                                            type: number
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                        - id
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Удаление рекламной кампании
            tags:
                - novofon
    /get.campaign_available_phone_numbers:
        get:
            description: |-
                Получение списка всех виртуальных номеров доступных для настройки параметра phone_number_id при создании/обновлении рекламной кампании

                **Request Parameters:** 7

                - `access_token` (string, required): Ключ сессии аутентификации

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `limit` (number, optional): Количество возвращаемых записей. См. раздел "Постраничный вывод"

                - `offset` (number, optional): Сдвиг, определяет с какого номера записи возвращать "limit" записей. По умолчанию "0". См. раздел "Постраничный вывод"

                - `filter` (object, optional): См. раздел "Критерии фильтрации"

                - `fields` (array, optional): См. раздел "Представление возвращаемых данных"

                - `sort` (array, optional): См. раздел "Сортировка данных"

                **Response Parameters:** 3

                - `id` (number): да

                - `phone_number` (string): да

                - `type` (enum): да
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: get.campaign_available_phone_numbers
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        fields:
                                            description: См. раздел "Представление возвращаемых данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        filter:
                                            description: См. раздел "Критерии фильтрации"
                                            type: object
                                        limit:
                                            description: Количество возвращаемых записей. См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        offset:
                                            description: Сдвиг, определяет с какого номера записи возвращать "limit" записей. По умолчанию "0". См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        sort:
                                            description: См. раздел "Сортировка данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                properties:
                                                    id:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    phone_number:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    type:
                                                        description: да
                                                        type: string
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Получение списка виртуальных номеров доступных для настройки рекламной кампании
            tags:
                - novofon
    /get.campaign_available_redirection_phone_numbers:
        get:
            description: |-
                Получение списка всех номеров переадресации доступных для настройки параметра redirection_phone_number_id при создании/обновлении рекламной кампании (только номера ВАТС).

                **Request Parameters:** 7

                - `access_token` (string, required): Ключ сессии аутентификации

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `limit` (number, optional): Количество возвращаемых записей. См. раздел "Постраничный вывод"

                - `offset` (number, optional): Сдвиг, определяет с какого номера записи возвращать "limit" записей. По умолчанию "0". См. раздел "Постраничный вывод"

                - `filter` (object, optional): См. раздел "Критерии фильтрации"

                - `fields` (array, optional): См. раздел "Представление возвращаемых данных"

                - `sort` (array, optional): См. раздел "Сортировка данных"

                **Response Parameters:** 2

                - `id` (number): да

                - `phone_number` (string): да
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: get.campaign_available_redirection_phone_numbers
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        fields:
                                            description: См. раздел "Представление возвращаемых данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        filter:
                                            description: См. раздел "Критерии фильтрации"
                                            type: object
                                        limit:
                                            description: Количество возвращаемых записей. См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        offset:
                                            description: Сдвиг, определяет с какого номера записи возвращать "limit" записей. По умолчанию "0". См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        sort:
                                            description: См. раздел "Сортировка данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                properties:
                                                    id:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    phone_number:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Получение списка номеров переадресации доступных для настройки рекламной кампании
            tags:
                - novofon
    /get.campaign_parameter_weights:
        get:
            description: "Получение весов параметров рекламных кампаний. Система весов нужна для того, чтобы определить, какую из рекламных кампаний сопоставить посещению. Если при переходе на сайт одному посещению соответствует несколько рекламных кампаний, то система присвоит рекламную кампанию, содержащую условие, значение которого по шкале весов наивысшее.\n\n**Request Parameters:** 7\n\n- `access_token` (string, required): Ключ сессии аутентификации\n\n- `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод \"get.customer_user\"\n\n- `limit` (number, optional): Количество возвращаемых записей. См. раздел \"Постраничный вывод\"\n\n- `offset` (number, optional): Сдвиг, определяет с какого номера записи возвращать \"limit\" записей. По умолчанию \"0\". См. раздел \"Постраничный вывод\"\n\n- `filter` (object, optional): См. раздел \"Критерии фильтрации\"\n\n- `fields` (array, optional): См. раздел \"Представление возвращаемых данных\"\n\n- `sort` (array, optional): См. раздел \"Сортировка данных\"\n\n**Response Parameters:** 13\n\n- `entrance_page` (number): \n\n- `referrer_domain` (number): \n\n- `search_engine` (number): \n\n- `engine` (number): \n\n- `referrer` (number): \n\n- `other_tags` (number): \n\n- `site_id` (number): да\n\n- `site_domain_name` (string): да\n\n- `search_query` (number): \n\n- `channel` (number): \n\n- `location` (number): \n\n- `utm_tags` (number): \n\n- `os_tags` (number): "
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: get.campaign_parameter_weights
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        fields:
                                            description: См. раздел "Представление возвращаемых данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        filter:
                                            description: См. раздел "Критерии фильтрации"
                                            type: object
                                        limit:
                                            description: Количество возвращаемых записей. См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        offset:
                                            description: Сдвиг, определяет с какого номера записи возвращать "limit" записей. По умолчанию "0". См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        sort:
                                            description: См. раздел "Сортировка данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_user"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                properties:
                                                    channel:
                                                        example: 123
                                                        type: number
                                                    engine:
                                                        example: 123
                                                        type: number
                                                    entrance_page:
                                                        example: 123
                                                        type: number
                                                    location:
                                                        example: 123
                                                        type: number
                                                    os_tags:
                                                        example: 123
                                                        type: number
                                                    other_tags:
                                                        example: 123
                                                        type: number
                                                    referrer:
                                                        example: 123
                                                        type: number
                                                    referrer_domain:
                                                        example: 123
                                                        type: number
                                                    search_engine:
                                                        example: 123
                                                        type: number
                                                    search_query:
                                                        example: 123
                                                        type: number
                                                    site_domain_name:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    site_id:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    utm_tags:
                                                        example: 123
                                                        type: number
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Получение весов параметров рекламных кампаний
            tags:
                - novofon
    /get.campaigns:
        get:
            description: "Получение списка всех рекламных кампаний - интегрированных, обычных и системных\n\n**Request Parameters:** 7\n\n- `limit` (number, optional): Количество возвращаемых записей. См. раздел \"Постраничный вывод\"\n\n- `offset` (number, optional): Сдвиг, определяет с какого номера записи возвращать \"limit\" записей. По умолчанию \"0\". См. раздел \"Постраничный вывод\"\n\n- `filter` (object, optional): См. раздел \"Критерии фильтрации\"\n\n- `fields` (array, optional): См. раздел \"Представление возвращаемых данных\"\n\n- `sort` (array, optional): См. раздел \"Сортировка данных\"\n\n- `access_token` (string, required): Ключ сессии аутентификации\n\n- `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод \"get.customer_users\"\n\n**Response Parameters:** 39\n\n- `dynamic_call_tracking_enabled` (boolean): \n\n- `description` (string): \n\n- `site_block_name` (string): \n\n- `static_utm_source` (string): да\n\n- `campaign_parameter` (enum): \n\n- `creation_time` (iso8601): да\n\n- `phone_number_type` (enum): \n\n- `static_utm_content` (string): да\n\n- `operator` (enum): \n\n- `status` (enum): да\n\n- `cost_ratio` (number): \n\n- `site_domain_name` (string): да\n\n- `phone_number_id` (number): \n\n- `static_utm_term` (string): да\n\n- `dynamic_call_tracking` (object): да\n\n- `count_visits` (number): минимальное значение 1\n\n- `conditions` (array): \n\n- `id` (number): да\n\n- `name` (string): да\n\n- `campaign_conditions` (object): нет\n\n- `costs` (number): да\n\n- `site_blocks` (array): да\n\n- `phone_number` (string): \n\n- `reservation_time` (enum): \n\n- `cost_ratio_operator` (enum): \n\n- `site_block_id` (number): \n\n- `redirection_phone_number` (string): \n\n- `static_utm_campaign` (string): да\n\n- `coverage_visitors` (number): \n\n- `group_conditions` (array): \n\n- `redirection_phone_number_id` (number): \n\n- `static_utm_medium` (string): да\n\n- `static_utm_expid` (string): да\n\n- `count_virtual_numbers` (number): минимальное значение 1\n\n- `value` (string): \n\n- `engine` (enum): да\n\n- `type` (enum): \n\n- `site_id` (number): да\n\n- `static_utm_referrer` (string): да"
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: get.campaigns
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        fields:
                                            description: См. раздел "Представление возвращаемых данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        filter:
                                            description: См. раздел "Критерии фильтрации"
                                            type: object
                                        limit:
                                            description: Количество возвращаемых записей. См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        offset:
                                            description: Сдвиг, определяет с какого номера записи возвращать "limit" записей. По умолчанию "0". См. раздел "Постраничный вывод"
                                            example: 123
                                            type: number
                                        sort:
                                            description: См. раздел "Сортировка данных"
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                properties:
                                                    campaign_conditions:
                                                        description: нет
                                                        type: object
                                                    campaign_parameter:
                                                        type: string
                                                    conditions:
                                                        example: []
                                                        items:
                                                            example: example_string
                                                            type: string
                                                        type: array
                                                    cost_ratio:
                                                        example: 123
                                                        type: number
                                                    cost_ratio_operator:
                                                        type: string
                                                    costs:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    count_virtual_numbers:
                                                        description: минимальное значение 1
                                                        example: 123
                                                        type: number
                                                    count_visits:
                                                        description: минимальное значение 1
                                                        example: 123
                                                        type: number
                                                    coverage_visitors:
                                                        example: 123
                                                        type: number
                                                    creation_time:
                                                        description: да
                                                    description:
                                                        example: example_string
                                                        type: string
                                                    dynamic_call_tracking:
                                                        description: да
                                                        type: object
                                                    dynamic_call_tracking_enabled:
                                                        example: true
                                                        type: boolean
                                                    engine:
                                                        description: да
                                                        type: string
                                                    group_conditions:
                                                        example: []
                                                        items:
                                                            example: 123
                                                            type: number
                                                        type: array
                                                    id:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    name:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    operator:
                                                        type: string
                                                    phone_number:
                                                        example: example_string
                                                        type: string
                                                    phone_number_id:
                                                        example: 123
                                                        type: number
                                                    phone_number_type:
                                                        type: string
                                                    redirection_phone_number:
                                                        example: example_string
                                                        type: string
                                                    redirection_phone_number_id:
                                                        example: 123
                                                        type: number
                                                    reservation_time:
                                                        type: string
                                                    site_block_id:
                                                        example: 123
                                                        type: number
                                                    site_block_name:
                                                        example: example_string
                                                        type: string
                                                    site_blocks:
                                                        description: да
                                                        example: []
                                                        items:
                                                            example: example_string
                                                            type: string
                                                        type: array
                                                    site_domain_name:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    site_id:
                                                        description: да
                                                        example: 123
                                                        type: number
                                                    static_utm_campaign:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    static_utm_content:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    static_utm_expid:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    static_utm_medium:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    static_utm_referrer:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    static_utm_source:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    static_utm_term:
                                                        description: да
                                                        example: example_string
                                                        type: string
                                                    status:
                                                        description: да
                                                        type: string
                                                    type:
                                                        type: string
                                                    value:
                                                        example: example_string
                                                        type: string
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Получение списка рекламных кампаний
            tags:
                - novofon
    /update.campaign_parameter_weights:
        put:
            description: |-
                Обновление весов параметров рекламных кампаний. Система весов нужна для того, чтобы определить, какую из рекламных кампаний сопоставить посещению. Если при переходе на сайт одному посещению соответствует несколько рекламных кампаний, то система присвоит рекламную кампанию, содержащую условие, значение которого по шкале весов наивысшее.

                **Request Parameters:** 14

                - `site_id` (number, required): Уникальный идентификатор сайта

                - `entrance_page` (number, optional): Страница входа

                - `referrer_domain` (number, optional): Домен реферера

                - `search_query` (number, optional): Поисковый запрос

                - `engine` (number, optional): Рекламная система

                - `referrer` (number, optional): Реферер

                - `location` (number, optional): Значение веса для параметров city, region, country

                - `os_tags` (number, optional): Значение веса для параметров openstat_service, openstat_campaign, openstat_source, openstat_ad

                - `access_token` (string, required): Ключ сессии аутентификации

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `search_engine` (number, optional): Поисковая система

                - `channel` (number, optional): Канал

                - `utm_tags` (number, optional): Значение веса для параметров utm_source, utm_medium, utm_campaign, utm_term, utm_content

                - `other_tags` (number, optional): Значение веса для параметров ef_id, yclid, gclid, ymclid
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: update.campaign_parameter_weights
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        channel:
                                            description: Канал
                                            example: 123
                                            type: number
                                        engine:
                                            description: Рекламная система
                                            example: 123
                                            type: number
                                        entrance_page:
                                            description: Страница входа
                                            example: 123
                                            type: number
                                        location:
                                            description: Значение веса для параметров city, region, country
                                            example: 123
                                            type: number
                                        os_tags:
                                            description: Значение веса для параметров openstat_service, openstat_campaign, openstat_source, openstat_ad
                                            example: 123
                                            type: number
                                        other_tags:
                                            description: Значение веса для параметров ef_id, yclid, gclid, ymclid
                                            example: 123
                                            type: number
                                        referrer:
                                            description: Реферер
                                            example: 123
                                            type: number
                                        referrer_domain:
                                            description: Домен реферера
                                            example: 123
                                            type: number
                                        search_engine:
                                            description: Поисковая система
                                            example: 123
                                            type: number
                                        search_query:
                                            description: Поисковый запрос
                                            example: 123
                                            type: number
                                        site_id:
                                            description: Уникальный идентификатор сайта
                                            example: 123
                                            type: number
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                        utm_tags:
                                            description: Значение веса для параметров utm_source, utm_medium, utm_campaign, utm_term, utm_content
                                            example: 123
                                            type: number
                                    required:
                                        - access_token
                                        - site_id
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Обновление весов параметров рекламных кампаний
            tags:
                - novofon
    /update.campaigns:
        put:
            description: |-
                Редактирование рекламной кампании. Можно редактировать только рекламную кампания с типом 'basic'.

                **Request Parameters:** 25

                - `site_blocks` (array, optional): Настройки привязки номера к блоку на сайте Если в списке отсутствует настроенный блок, то в случае обновления рекламной кампании, его настройки сбрасываются Если рекламная кампания отключена (status = inactive), то этот параметр изменять нельзя. Будет возвращаться ошибка `invalid_parameters_combination`

                - `site_block_id` (number, required): Уникальный идентификатор блока номеров

                - `dynamic_call_tracking_enabled` (boolean, optional): Активация динамического коллтрекинг. В пул динамического коллтрекинга можно подключить только свободные номера без флага "Использовать в ВАТС" в том же коде, что и номер блока рекламной кампании по умолчанию. При отсутствии необходимого количества номеров они будут автоматически куплены. Звонки на номера из пула динамического коллтрекинга будут обрабатываться по правилам обработки звонков на номер блока рекламной кампании по умолчанию. Может принимать значение "true", если параметр phone_number_id = va | call_tracking. Если это не так, то будет возвращена ошибка с мнемоникой "invalid_parameters_combination" Если Вы используете этот параметр, но у вас не подключен компонент "dynamic_call_tracking", то вам вернется ошибка с мнемоникой "parameter_component_disabled" Если задан одновременно status = inactive, то будет возвращена ошибка `invalid_parameters_combination` Если параметр dynamic_call_tracking_enabled имеет значение "true", то параметр dynamic_call_tracking обязателен к заполнению. Будет возвращена ошибка "invalid_parameters_combination".

                - `count_virtual_numbers` (number, required): Количество номеров необходимое для работы динамического коллтрекинга в одном блоке. Указанное количество номеров будет куплено.

                - `type` (enum, required): Условия рекламной кампании в группе условий include - включает exclude - исключает

                - `site_id` (number, required): Уникальный идентификатор сайта Обновить site_id для существующей рекламной кампании невозможно.

                - `reservation_time` (enum, optional): Период, на который номер закрепляется за посетителем сайта. По истечении указанного времени номер закрепляется за новым посетителем (или остается за текущим в случае наличия свободных номеров коллтрекинга).

                - `group_conditions` (array, required): Группа условий рекламной кампании

                - `value` (string, required): Значение. Для некоторых campaign_parameter может быть свой список допустимых значений см. в таблице "Список параметров и их операторов"

                - `operator` (enum, required): Оператор в условии. Зависит от используемого параметра campaign_parameter см. в таблице "Список параметров и их операторов" "=" - точно соответствует "sub" - включает "~" - регулярное выражение

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `id` (number, required): Уникальный идентификатор рекламной кампании

                - `redirection_phone_number_id` (number, optional): Уникальный идентификатор номера переадресации. Номер переадресации используется только в том случае, если параметр phone_number_id имеет тип `call_tracking`. Список доступных номеров можно получить методом get.campaign_available_redirection_phone_numbers. Обязателен для заполнения, если в параметре phone_number_id указан виртуальный номер с типом "call_tracking". Если это не так, то будет возвращена ошибка с мнемоникой "required_parameter_missed". Если параметр задан и в phone_number_id указан виртуальный номер с типом "va", то будет возвращаться ошибка `invalid_parameters_combination` В параметре могут быть указаны только номера переадресации, которые возвращаются методом get.campaign_available_redirection_phone_numbers. Если это не так, то будет возвращаться ошибка с мнемоникой "invalid_parameter_value" Доступен, если подключен компонент "va". Если параметр будет заполнен и у вас отсутствует компонент "va", то будет возвращена ошибка с мнемоникой "parameter_component_disabled"

                - `cost_ratio` (number, optional): Коэфициент, который влияет на значение параметра `costs`

                - `cost_ratio_operator` (enum, optional): Оператор, который используется при расчете `costs` с учетом `cost_ratio`

                - `count_visits` (number, required): Количество посещений по рекламной кампании в сутки

                - `name` (string, optional): Название рекламной кампании

                - `description` (string, optional): Описание рекламной кампании

                - `status` (enum, optional): Статус рекламной кампании Если рекламную кампанияю с настроенными блоками перевели в статус "inactive", то все настройки блоков сбрасываются.

                - `campaign_conditions` (object, optional): Условия рекламной кампании.

                - `phone_number_id` (number, required): Уникальный идентификатор виртуального номера. Чтобы получить список доступных виртуальных номеров необходимо использовать метод get.campaign_available_phone_numbers Если указан id который не возвращается методом get.campaign_available_phone_numbers, то будет возвращена ошибка с мнемоникой "entity_not_found". Номер с type = call_tracking может использоваться только в одной рекламной кампании. Если номер уже используется в другой рекламной кампании, то будет возвращена ошибка `already_in_use`

                - `dynamic_call_tracking` (object, optional): Настройка динамический коллтрекинг. Обязателен к заполнению, если параметр dynamic_call_tracking_enabled у хоть одного блока имеет значение "true" иначе будет возвращена ошибка с мнемоникой "invalid_parameters_combination" Если Вы используете этот параметр, но у вас не подключен компонент "dynamic_call_tracking", то вам вернется ошибка с мнемоникой "parameter_component_disabled"

                - `conditions` (array, required): Условия рекламной кампании в группе условий

                - `campaign_parameter` (enum, required): Список допустимых значений и возможных операторов см. в таблице "Список параметров и их операторов"

                - `access_token` (string, required): Ключ сессии аутентификации
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: update.campaigns
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        campaign_conditions:
                                            description: Условия рекламной кампании.
                                            type: object
                                        campaign_parameter:
                                            description: Список допустимых значений и возможных операторов см. в таблице "Список параметров и их операторов"
                                            type: string
                                        conditions:
                                            description: Условия рекламной кампании в группе условий
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        cost_ratio:
                                            description: Коэфициент, который влияет на значение параметра `costs`
                                            example: 123
                                            type: number
                                        cost_ratio_operator:
                                            description: Оператор, который используется при расчете `costs` с учетом `cost_ratio`
                                            type: string
                                        count_virtual_numbers:
                                            description: Количество номеров необходимое для работы динамического коллтрекинга в одном блоке. Указанное количество номеров будет куплено.
                                            example: 123
                                            type: number
                                        count_visits:
                                            description: Количество посещений по рекламной кампании в сутки
                                            example: 123
                                            type: number
                                        description:
                                            description: Описание рекламной кампании
                                            example: example_string
                                            type: string
                                        dynamic_call_tracking:
                                            description: Настройка динамический коллтрекинг. Обязателен к заполнению, если параметр dynamic_call_tracking_enabled у хоть одного блока имеет значение "true" иначе будет возвращена ошибка с мнемоникой "invalid_parameters_combination" Если Вы используете этот параметр, но у вас не подключен компонент "dynamic_call_tracking", то вам вернется ошибка с мнемоникой "parameter_component_disabled"
                                            type: object
                                        dynamic_call_tracking_enabled:
                                            description: Активация динамического коллтрекинг. В пул динамического коллтрекинга можно подключить только свободные номера без флага "Использовать в ВАТС" в том же коде, что и номер блока рекламной кампании по умолчанию. При отсутствии необходимого количества номеров они будут автоматически куплены. Звонки на номера из пула динамического коллтрекинга будут обрабатываться по правилам обработки звонков на номер блока рекламной кампании по умолчанию. Может принимать значение "true", если параметр phone_number_id = va | call_tracking. Если это не так, то будет возвращена ошибка с мнемоникой "invalid_parameters_combination" Если Вы используете этот параметр, но у вас не подключен компонент "dynamic_call_tracking", то вам вернется ошибка с мнемоникой "parameter_component_disabled" Если задан одновременно status = inactive, то будет возвращена ошибка `invalid_parameters_combination` Если параметр dynamic_call_tracking_enabled имеет значение "true", то параметр dynamic_call_tracking обязателен к заполнению. Будет возвращена ошибка "invalid_parameters_combination".
                                            enum:
                                                - "true"
                                                - "false"
                                            example: "true"
                                            type: boolean
                                        group_conditions:
                                            description: Группа условий рекламной кампании
                                            example: []
                                            items:
                                                example: 123
                                                type: number
                                            type: array
                                        id:
                                            description: Уникальный идентификатор рекламной кампании
                                            example: 123
                                            type: number
                                        name:
                                            description: Название рекламной кампании
                                            example: example_string
                                            type: string
                                        operator:
                                            description: Оператор в условии. Зависит от используемого параметра campaign_parameter см. в таблице "Список параметров и их операторов" "=" - точно соответствует "sub" - включает "~" - регулярное выражение
                                            enum:
                                                - =
                                                - sub
                                                - "~"
                                            example: =
                                            type: string
                                        phone_number_id:
                                            description: Уникальный идентификатор виртуального номера. Чтобы получить список доступных виртуальных номеров необходимо использовать метод get.campaign_available_phone_numbers Если указан id который не возвращается методом get.campaign_available_phone_numbers, то будет возвращена ошибка с мнемоникой "entity_not_found". Номер с type = call_tracking может использоваться только в одной рекламной кампании. Если номер уже используется в другой рекламной кампании, то будет возвращена ошибка `already_in_use`
                                            example: 123
                                            type: number
                                        redirection_phone_number_id:
                                            description: Уникальный идентификатор номера переадресации. Номер переадресации используется только в том случае, если параметр phone_number_id имеет тип `call_tracking`. Список доступных номеров можно получить методом get.campaign_available_redirection_phone_numbers. Обязателен для заполнения, если в параметре phone_number_id указан виртуальный номер с типом "call_tracking". Если это не так, то будет возвращена ошибка с мнемоникой "required_parameter_missed". Если параметр задан и в phone_number_id указан виртуальный номер с типом "va", то будет возвращаться ошибка `invalid_parameters_combination` В параметре могут быть указаны только номера переадресации, которые возвращаются методом get.campaign_available_redirection_phone_numbers. Если это не так, то будет возвращаться ошибка с мнемоникой "invalid_parameter_value" Доступен, если подключен компонент "va". Если параметр будет заполнен и у вас отсутствует компонент "va", то будет возвращена ошибка с мнемоникой "parameter_component_disabled"
                                            example: 123
                                            type: number
                                        reservation_time:
                                            description: Период, на который номер закрепляется за посетителем сайта. По истечении указанного времени номер закрепляется за новым посетителем (или остается за текущим в случае наличия свободных номеров коллтрекинга).
                                            type: string
                                        site_block_id:
                                            description: Уникальный идентификатор блока номеров
                                            example: 123
                                            type: number
                                        site_blocks:
                                            description: Настройки привязки номера к блоку на сайте Если в списке отсутствует настроенный блок, то в случае обновления рекламной кампании, его настройки сбрасываются Если рекламная кампания отключена (status = inactive), то этот параметр изменять нельзя. Будет возвращаться ошибка `invalid_parameters_combination`
                                            example: []
                                            items:
                                                example: 123
                                                type: number
                                            type: array
                                        site_id:
                                            description: Уникальный идентификатор сайта Обновить site_id для существующей рекламной кампании невозможно.
                                            example: 123
                                            type: number
                                        status:
                                            description: Статус рекламной кампании Если рекламную кампанияю с настроенными блоками перевели в статус "inactive", то все настройки блоков сбрасываются.
                                            type: string
                                        type:
                                            description: Условия рекламной кампании в группе условий include - включает exclude - исключает
                                            type: string
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                        value:
                                            description: Значение. Для некоторых campaign_parameter может быть свой список допустимых значений см. в таблице "Список параметров и их операторов"
                                            example: example_string
                                            type: string
                                    required:
                                        - campaign_parameter
                                        - access_token
                                        - site_block_id
                                        - count_virtual_numbers
                                        - type
                                        - site_id
                                        - group_conditions
                                        - value
                                        - operator
                                        - id
                                        - count_visits
                                        - phone_number_id
                                        - conditions
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Редактирование рекламной кампании
            tags:
                - novofon
    /upload.campaign_costs:
        post:
            description: |-
                Загрузка расходов по рекламным кампаниям

                **Request Parameters:** 8

                - `user_id` (number, optional): Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"

                - `costs` (array, required): Список расходов по рекламным кампаниям. Максимально 500

                - `date_from` (iso8601, required): Дата и время начала периода загружаемых расходов. На текущий момент время игнорируется.

                - `date_till` (iso8601, required): Дата и время конца периода загружаемых расходов. Не может быть меньше чем date_from. На текущий момент время игнорируется.

                - `campaign_id` (number, required): Уникальный идентификатор рекламной кампании.

                - `site_id` (number, required): Уникальный идентификатор сайта.

                - `cost` (number, required): Расходы по рекламной кампании за указанный период date_from и date_till. Если указан 0, то произойдет удаление расходов за указанный период.

                - `access_token` (string, required): Ключ сессии аутентификации
            requestBody:
                content:
                    application/json:
                        schema:
                            properties:
                                id:
                                    description: Request identifier
                                    type: number
                                jsonrpc:
                                    description: JSON-RPC version
                                    example: "2.0"
                                    type: string
                                method:
                                    description: Method name
                                    example: upload.campaign_costs
                                    type: string
                                params:
                                    properties:
                                        access_token:
                                            description: Ключ сессии аутентификации
                                            example: example_string
                                            type: string
                                        campaign_id:
                                            description: Уникальный идентификатор рекламной кампании.
                                            example: 123
                                            type: number
                                        cost:
                                            description: Расходы по рекламной кампании за указанный период date_from и date_till. Если указан 0, то произойдет удаление расходов за указанный период.
                                            example: 123
                                            type: number
                                        costs:
                                            description: Список расходов по рекламным кампаниям. Максимально 500
                                            example: []
                                            items:
                                                example: example_string
                                                type: string
                                            type: array
                                        date_from:
                                            description: Дата и время начала периода загружаемых расходов. На текущий момент время игнорируется.
                                        date_till:
                                            description: Дата и время конца периода загружаемых расходов. Не может быть меньше чем date_from. На текущий момент время игнорируется.
                                        site_id:
                                            description: Уникальный идентификатор сайта.
                                            example: 123
                                            type: number
                                        user_id:
                                            description: Уникальный идентификатор пользователя клиента агента от имени которого делается запрос Является обязательным для агента Для получения списка пользователей клиента необходимо использовать метод "get.customer_users"
                                            example: 123
                                            type: number
                                    required:
                                        - date_till
                                        - campaign_id
                                        - site_id
                                        - cost
                                        - access_token
                                        - costs
                                        - date_from
                                    type: object
                            required:
                                - jsonrpc
                                - id
                                - method
                                - params
                            type: object
                required: true
            responses:
                "200":
                    content:
                        application/json:
                            schema:
                                properties:
                                    id:
                                        description: Request identifier
                                        type: number
                                    jsonrpc:
                                        description: JSON-RPC version
                                        example: "2.0"
                                        type: string
                                    result:
                                        properties:
                                            data:
                                                type: object
                                            metadata:
                                                description: Response metadata
                                                type: object
                                        required:
                                            - data
                                            - metadata
                                        type: object
                                required:
                                    - jsonrpc
                                    - id
                                    - result
                                type: object
                    description: Successful response
                "400":
                    content:
                        application/json:
                            schema:
                                properties:
                                    error:
                                        properties:
                                            code:
                                                type: number
                                            data:
                                                type: object
                                            message:
                                                type: string
                                        type: object
                                    id:
                                        type: number
                                    jsonrpc:
                                        type: string
                                type: object
                    description: Error response
            summary: Загрузка расходов по рекламным кампаниям
            tags:
                - novofon
